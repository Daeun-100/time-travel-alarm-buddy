# ⏰ 지각 방지용 교통 알람 서비스

**도착 시간만 입력하면, 자동으로 출발 알람을 계산해주는 스마트 교통 알림 웹앱**

> "언제 출발해야 할지, 이제는 자동으로 알려줘요!"

---

## 📌 프로젝트 소개

출근, 등교, 회의 등 중요한 약속에 자주 지각하는 사용자를 위해  
**도착 시간만 등록하면**, 교통 상황과 준비 시간을 고려하여  
**출발 시간을 역산해 자동 알람을 설정**해주는 웹 기반 서비스입니다.
**필요 준비 시간** 을 계산해서 **준비 시작 시간**도 알려줘요.

---

## 💁 페르소나 (Persona)

### 🎓 민지 (24세, 대학생, 경기도 거주)
- 아침 준비 중 시간 계산이 안 돼 자주 지각
- 지하철 or 버스 이용, 알람 여러 개 설정하지만 매번 귀찮음
- **사용 패턴**: 새학기가 시작하면 일정 등록, 아침에 알람으로 깨워받기
- **고민**: 교통 상황이 실시간으로 변해서 정확한 출발 시각 계산이 어려움



---

## 📖 사용자 스토리 (User Story)

### 🧩 Epic
> "나는 언제 출발해야 하는지 자동으로 알려주는 알람이 필요해요. 
또한 언제 준비를 시작해야 하는지 알아서 알려주면 좋겠어요
단계적으로 준비 시작 ,준비 동작, 출발 알람들을 알려줬으면 좋겠어요"

---

#### ✅ User Story 1
> "도착 시간만 입력하면, 자동으로 출발 알람을 받고 싶다. 날씨나 교통상황 때문에 늦는 걸 피하고 싶다."

**바쁜 대학생의 아침 등교 준비**
상황: 민지가 전날 밤에 내일 수업 일정을 확인하고, 아침에 정확한 출발 시각을 알기 위해 미리 등록해둔 알람을 확인함

**사용자 시나리오**
- 새학기가 시작되면 스마트폰에서 지각방지 알람 앱 접속
- "새 일정 등록" 버튼 클릭
- 도착 장소: "행성대학교", 도착 시간: "오전 9시", 이동 수단: "지하철", 준비 시간: "30분" 입력하여 등록
- 매일 아침 7시 10분에 "준비를 시작하세요" 알람 수신
- 7시 40분에 "지금 출발하세요!" 알람 수신하여 시간에 맞춰 준비 및 출발

**사용자 스토리**
"저는 새학기가 시작되면 학기 일정을 미리 등록해두고, 매일 아침에 정확한 출발 시각을 알려주는 스마트한 알람으로 지각을 방지할 수 있습니다."

**인수 조건:**
Given: 사용자가 미리 지각방지 알람 앱에 일정을 등록했을 때
When: 등록된 일정의 준비 시작 시각이 되었을 때
Then: 자동으로 "준비를 시작하세요" 알람을 발송한다

**핵심 가치 제안**
사전 계획 지원: 새학기 시작 시 미리 등록하여 매일 아침에 고민할 시간 절약
스마트 시간 계산: 교통 상황과 준비 시간을 고려한 정확한 출발 시각 제공
자동화된 알람 관리: 수동 계산 없이 자동으로 알람 설정 및 관리

**핵심 기능**
도착 시간 기반 역산 출발 시각 계산
준비 시간을 고려한 준비 시작 시각 자동 계산
교통 상황 실시간 반영 및 알람 동적 조정
직관적인 일정 등록 및 알람 관리 인터페이스

---

## 🗺️ 사용자 여정 맵 (User Journey Map)

### 민지의 하루
1. **새학기 시작** - 학기 일정 등록
2. **아침 (07:10)** - "준비를 시작하세요" 알람 수신
3. **아침 (07:40)** - "지금 출발하세요!" 알람 수신
4. **출발 후** - 실시간 교통 상황 모니터링
5. **도착** - 일정 완료 및 피드백



---

## 🧪 MVP 기능 요약

- [ ] 일정 등록 (도착 시간, 장소)
- [ ] 준비 시간 입력
- [ ] 이동 수단 선택
- [ ] 출발 시간 자동 계산
- [ ] 준비 시작 시간 자동 계산 
- [ ] 알림 등록 

---

## 🎯 핵심 기능 상세

### 1. 일정 등록
- **도착 장소**: 텍스트 입력 또는 자주 가는 장소 선택
- **도착 시간**: 시간/분 선택 (24시간 형식)
- **이동 수단**: 지하철, 버스, 도보, 자전거, 자동차 중 선택
- **준비 시간**: 기본값 30분, 사용자 설정 가능

### 2. 스마트 시간 계산
- **교통 소요 시간**: Mocking 데이터 기반 (장소별, 시간대별, 교통수단별)
- **출발 시각**: 도착 시간 - 교통 소요 시간 - 준비 시간
- **준비 시작 시각**: 출발 시각 - 준비 시간

### 3. 알람 시스템
- **준비 시작 알람**: "준비를 시작하세요" 메시지
- **출발 알람**: "지금 출발하세요!" 메시지
- **실시간 조정**: 교통 상황 변화 시 알람 시간 자동 조정

---

## 🔧 기술 요구사항

### Mocking 데이터 구조
```typescript
interface TrafficData {
  from: string;        // 출발지 (현재 위치)
  to: string;          // 도착지
  transportType: 'subway' | 'bus' | 'walk' | 'bicycle' | 'car';
  timeSlot: 'morning' | 'afternoon' | 'evening' | 'night';
  duration: number;    // 소요 시간 (분)
  isDelayed: boolean;  // 지연 여부
}
```

### 기본 Mocking 패턴
- **잠실 루터회관 → 행성대학교**: 지하철 50분, 버스 65분
- **잠실 루터회관 → 강남역**: 지하철 12분, 버스 16분
- **지연 상황**: 아침 러시아워 시 10-15분 추가 소요

---

## 구현 범위
- 실제 google map api 연결없이 mocking 데이터로 간단하게 구현 (미리 정해진 패턴 사용)

## 🛠️ 기술 스택 (예정)

- **Frontend**: React, Vite, TypeScript
- **스타일링**: Tailwind CSS 
- **알람**: 브라우저 Notification API

---

## 📱 UI/UX 가이드라인

### 디자인 원칙
- **직관성**: 복잡한 설정 없이 3단계로 일정 등록
- **신뢰성**: 정확한 시간 계산과 실시간 상황 반영
- **편의성**: 자주 사용하는 장소 저장 및 빠른 등록

### 주요 화면 구성
1. **메인 화면**: 등록된 일정 목록 및 새 일정 등록 버튼
2. **일정 등록 화면**: 단계별 입력 폼 (장소 → 시간 → 교통수단 → 준비시간)
3. **일정 상세 화면**: 계산된 시간 정보 및 알람 설정 상태
4. **설정 화면**: 기본 준비 시간, 자주 가는 장소 관리

---

## 🏗️ 구현 가이드라인

### 컴포넌트 구조
```
src/
├── components/
│   ├── ScheduleList.tsx          # 메인 일정 목록
│   ├── ScheduleForm.tsx          # 일정 등록 폼
│   ├── ScheduleCard.tsx          # 개별 일정 카드
│   ├── TimeDisplay.tsx           # 시간 표시 컴포넌트
│   └── AlarmStatus.tsx           # 알람 상태 표시
├── hooks/
│   ├── useSchedule.ts            # 일정 관리 훅
│   ├── useTrafficData.ts         # 교통 데이터 훅
│   └── useAlarm.ts               # 알람 관리 훅
├── utils/
│   ├── timeCalculator.ts         # 시간 계산 로직
│   └── trafficMock.ts            # Mocking 데이터
└── types/
    └── schedule.ts               # 타입 정의
```

### 데이터 플로우
1. **일정 등록**: 폼 입력 → 시간 계산 → 메모리 저장
2. **알람 체크**: 페이지 로드 시 → 등록된 일정 확인 → 알람 시간 체크
3. **실시간 업데이트**: 교통 상황 변화 → 알람 시간 재계산 → UI 업데이트

### 핵심 기능 구현 포인트
- **시간 계산**: 도착시간 - 교통시간 - 준비시간 = 출발시간
- **알람 시스템**: 브라우저 Notification API + setInterval 체크
- **데이터 지속성**: 메모리 기반 저장, 페이지 새로고침 시 초기화
- **반응형 디자인**: 모바일 우선, 데스크톱 호환

### Mocking 데이터 상세
```typescript
// 기본 교통 시간 (분)
const TRAFFIC_TIMES = {
  '잠실 루터회관': {
    '행성대학교': { subway: 50, bus: 65 },
    '강남역': { subway: 12, bus: 16 }
  }
};

// 시간대별 지연 시간 (분)
const DELAY_TIMES = {
  morning: { subway: 10, bus: 15 },
  afternoon: { subway: 5, bus: 8 },
  evening: { subway: 8, bus: 12 },
  night: { subway: 0, bus: 0 }
};
```

### UI 컴포넌트 요구사항
- **ScheduleForm**: 4단계 입력 (장소, 시간, 교통수단, 준비시간)
- **TimeDisplay**: "출발: 07:40, 준비시작: 07:10" 형식 표시
- **AlarmStatus**: "알람 설정됨" / "알람 해제됨" 상태 표시
- **ScheduleCard**: 일정 요약 + 수정/삭제 버튼

### 사용자 인터랙션
- **일정 등록**: 단계별 폼 → 실시간 시간 계산 표시
- **일정 수정**: 기존 데이터 로드 → 수정 → 재계산
- **일정 삭제**: 확인 다이얼로그 → 삭제
